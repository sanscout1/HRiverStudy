<!DOCTYPE html>
<html>
  <head>
    <title>Slider Gallery</title>
    <style>
      div.item:nth-child(1) {
        background: blueviolet;
      }
      div.item:nth-child(2) {
        background: pink;
      }
      div.item:nth-child(3) {
        background-color: burlywood;
      }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.4.js"></script>
    <script>
      $(document).ready(function () {
        // 변수를 선언합니다.
        let width = $('[data-role="slider"]').attr("data-width");
        let height = $('[data-role="slider"]').attr("data-height");
        let count = $('[data-role="slider"] div.item').length;

        // 스타일을 적용합니다.
        $('[data-role="slider"]')
          .css({
            position: "relative",
            overflow: "hidden",
            width: width,
            height: height,
          })
          .find(".container")
          .css({
            position: "absolute",
            width: count * width,
            overflow: "hidden",
          })
          .find(".item")
          .css({
            width: width,
            height: height,
            float: "left",
          });

        // 변수를 선언합니다.
        let currentPage = 0;
        let changePage = function () {
          $('[data-role="slider"] > .container').animate(
            {
              left: -currentPage * width,
            },
            500
          );
        };

        // 이벤트를 연결합니다.
        $("#left-button").click(function () {
          if (currentPage > 0) {
            // 이전 슬라이드로 이동
            currentPage--;
          } else {
            // 첫 번째 슬라이드에서 왼쪽 버튼을 누르면 마지막 슬라이드로 이동
            // count 변수는 슬라이더 내에 있는 총 아이템(슬라이드)의 개수를 나타냅니다.
            currentPage = count - 1;
          }
          changePage();
        });

        $("#right-button").click(function () {
          if (currentPage < count - 1) {
            // 다음 슬라이드로 이동
            currentPage++;
          } else {
            // 마지막 슬라이드에서 처음 슬라이드로 이동
            currentPage = 0;
          }
          changePage();
        });

        // 자동 슬라이드 기능
        setInterval(function () {
          if (currentPage < count - 1) {
            // 마지막 슬라이드가 아닌 경우, 다음 슬라이드로 이동
            currentPage++;
          } else {
            // 마지막 슬라이드인 경우, 첫 번째 슬라이드로 돌아감
            currentPage = 0;
          }
          changePage();
        }, 5000); // 5000ms = 5초
      });
    </script>
  </head>
  <body>
    <div data-role="slider" data-width="500" data-height="300">
      <div class="container">
        <div class="item">
          <h1>Lorem ipsum dolor sit amet</h1>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla
            viverra ex a augue porta, quis luctus eros sollicitudin. Nullam in
            turpis semper, lacinia justo a, facilisis lacus. Nunc odio nisi,
            lobortis sit amet diam et, vestibulum posuere risus. Donec viverra,
            risus a ultricies fringilla, lectus purus aliquet quam, sit amet
            commodo nisl mi vitae nunc. Nulla cursus non urna eu elementum.
            Integer at mi auctor mi suscipit dapibus nec non orci. Nunc ipsum
            nulla, scelerisque id enim nec, lobortis ornare leo. Interdum et
            malesuada fames ac ante ipsum primis in faucibus.
          </p>
        </div>
        <div class="item">
          <h1>Proin in urna turpis.</h1>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla
            viverra ex a augue porta, quis luctus eros sollicitudin. Nullam in
            turpis semper, lacinia justo a, facilisis lacus. Nunc odio nisi,
            lobortis sit amet diam et, vestibulum posuere risus. Donec viverra,
            risus a ultricies fringilla, lectus purus aliquet quam, sit amet
            commodo nisl mi vitae nunc. Nulla cursus non urna eu elementum.
            Integer at mi auctor mi suscipit dapibus nec non orci. Nunc ipsum
            nulla, scelerisque id enim nec, lobortis ornare leo. Interdum et
            malesuada fames ac ante ipsum primis in faucibus.
          </p>
        </div>
        <div class="item">
          <h1>Duis malesuada lorem neque.</h1>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla
            viverra ex a augue porta, quis luctus eros sollicitudin. Nullam in
            turpis semper, lacinia justo a, facilisis lacus. Nunc odio nisi,
            lobortis sit amet diam et, vestibulum posuere risus. Donec viverra,
            risus a ultricies fringilla, lectus purus aliquet quam, sit amet
            commodo nisl mi vitae nunc. Nulla cursus non urna eu elementum.
            Integer at mi auctor mi suscipit dapibus nec non orci. Nunc ipsum
            nulla, scelerisque id enim nec, lobortis ornare leo. Interdum et
            malesuada fames ac ante ipsum primis in faucibus.
          </p>
        </div>
      </div>
    </div>
    <button id="left-button">←</button>
    <button id="right-button">→</button>
  </body>
</html>
